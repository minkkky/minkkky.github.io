<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Minkkky</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" type="text/css" href="/assets/css/fontawesome-all.min.css">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon.ico">

  <!-- Google Analytics -->
  

</head>


  <body>
    <nav class="nav">
      <div class="nav-container">
        <a href="/">
          <h2 class="nav-title">Minkkky</h2>
        </a>
        <ul>
          <li><a href="/">About</a></li>
          <li><a href="/portfolio/">Portfolio</a></li>
        </ul>
    </div>
  </nav>

    <main>
      <div class="post">
  <h2 class="post-title">ğŸ¤–[ì›¹ì†Œì„¤] ì¼íƒ€ê°•ì‚¬ AIì˜ ê¸°ë§‰íŒ ì¶”ì²œ</h2>
  <div class="post-line"></div>

  <p><img src="https://camo.githubusercontent.com/94b1c3641c1dbabac16cfff75bd7604185177535669be244ef38db5b904acdeb/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e25324663525a7957772532466274724a326e6256304c79253246563074684c36744e6a4a4b6e6b5072487369596c4a4b253246696d672e706e67" alt="logo" /></p>

<p><br /></p>

<h1 id="ì›¹ì†Œì„¤-ì¼íƒ€ê°•ì‚¬-aiì˜-ê¸°ë§‰íŒ-ì¶”ì²œ-ì›¹íƒ€ì¶”">[ì›¹ì†Œì„¤] ì¼íƒ€ê°•ì‚¬ AIì˜ ê¸°ë§‰íŒ ì¶”ì²œ :ì›¹íƒ€ì¶”</h1>
<hr />
<p>ë„¤ì´ë²„ ì‹œë¦¬ì¦ˆì—ì„œ íŒë§¤ì¤‘ì¸ ì›¹ì†Œì„¤ ì‘í’ˆì˜ ì‘í’ˆì •ë³´ë¥¼ í¬ë¡¤ë§í•˜ì—¬ ì–»ì€ ì¤„ê±°ë¦¬ë¥¼ <code class="language-plaintext highlighter-rouge">ìì—°ì–´ ì²˜ë¦¬</code>ë¥¼ ì´ìš©í•´ ì›¹ì†Œì„¤ì˜ ìŠ¤í† ë¦¬ë¥¼ <code class="language-plaintext highlighter-rouge">ë²¡í„° ì„ë² ë”©</code>í•˜ì—¬ ì‚¬ìš©ìê°€ ì„ í˜¸í•œ ì†Œì„¤ì˜ ì¤„ê±°ë¦¬ì™€ ìœ ì‚¬ë„ê°€ ë†’ì€ ì‘í’ˆì„ <code class="language-plaintext highlighter-rouge">ì¶”ì²œ</code>í•´ì£¼ëŠ” ì„œë¹„ìŠ¤</p>

<p><a href="https://tv.kakao.com/v/429567788"><code class="language-plaintext highlighter-rouge">ğŸ”—ì‹œì—°ì˜ìƒ</code></a></p>

<h2 id="ì£¼ìš”-ê¸°ëŠ¥">ì£¼ìš” ê¸°ëŠ¥</h2>
<ol>
  <li>Django ë‚´ì¥ ëª¨ë¸ì„ ì‚¬ìš©í•œ íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥</li>
  <li>ë„¤ì´ë²„ ì‹œë¦¬ì¦ˆì—ì„œ íŒë§¤ì¤‘ì¸ ì›¹ì†Œì„¤ ì‘í’ˆì˜ ì‘í’ˆì •ë³´ë¥¼ BeautifulSoupê³¼ Seleniumì„ ì´ìš©í•˜ì—¬ í¬ë¡¤ë§</li>
  <li>ìì—°ì–´ ì²˜ë¦¬ë¥¼ ì´ìš©í•´ ì›¹ì†Œì„¤ì˜ ìŠ¤í† ë¦¬ë¥¼ ë²¡í„° ì„ë² ë”©</li>
  <li>ì‚¬ìš©ìê°€ ì¢‹ì•„í•œ ì‘í’ˆì˜ ì¤„ê±°ë¦¬ì™€ ìœ ì‚¬ë„ê°€ ë†’ì€ ì‘í’ˆì„ ì¶”ì²œ
    <ul>
      <li>ë“±ë¡ëœ ì„ í˜¸ì‘ì´ ì—†ë‹¤ë©´ ë³„ì ì´ ë†’ì€ ì‘í’ˆë“¤ì„ ì¶”ì²œ</li>
    </ul>
  </li>
  <li>ì‘í’ˆì— ëŒ€í•œ ë¦¬ë·° CRUD ê¸°ëŠ¥</li>
  <li>ë¦¬ë·°ë¥¼ ë¶„ì„í•˜ì—¬ ê°€ì¥ ë§ì€ í‚¤ì›Œë“œ 5ê°œ í‘œì‹œ (ì‘í’ˆ ìƒì„¸ í˜ì´ì§€)</li>
  <li>ì¢‹ì•„í•œ ì‘í’ˆì˜ ìŠ¤í† ë¦¬ í‚¤ì›Œë“œ ë¹ˆë„ìˆ˜ ìƒìœ„ 10ê°œ í‘œì‹œ (ë§ˆì´ í˜ì´ì§€)</li>
</ol>

<p><br /></p>

<h1 id="project">Project</h1>
<hr />
<ul>
  <li><a href="https://github.com/cmjcum/webtachu"><code class="language-plaintext highlighter-rouge">ğŸ”—Github</code></a></li>
  <li><a href="https://cold-charcoal.tistory.com/85"><code class="language-plaintext highlighter-rouge">ğŸ”—Starting Assignment (tistory)</code></a></li>
</ul>

<h2 id="í”„ë¡œì íŠ¸-ê¸°ê°„">í”„ë¡œì íŠ¸ ê¸°ê°„</h2>
<p>2022-06-02 ~ 2022-06-13</p>

<p><br /></p>

<h2 id="íŒ€-êµ¬ì„±-ë°-ì—­í• ">íŒ€ êµ¬ì„± ë° ì—­í• </h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">ì´ë¦„</th>
      <th style="text-align: left">ì—­í• </th>
      <th style="text-align: center">ê¹ƒí—ˆë¸Œ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>ë…¸ì„ğŸŒ±</strong></td>
      <td style="text-align: left">ë¡œê·¸ì¸/íšŒì›ê°€ì… í˜ì´ì§€, ë§ˆì´ í˜ì´ì§€, ë¡œê³  ì œì‘Â Â Â Â </td>
      <td style="text-align: center"><a href="https://github.com/minkkky"><code class="language-plaintext highlighter-rouge">ğŸ”—minkkky</code></a></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>ì´í˜„ê²½</strong></td>
      <td style="text-align: left">ì‘í’ˆ ìƒì„¸ í˜ì´ì§€</td>
      <td style="text-align: center"><a href="https://github.com/LULULALA2"><code class="language-plaintext highlighter-rouge">ğŸ”—LULULALA2</code></a></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>ì´ì •ì•„Â Â Â Â </strong></td>
      <td style="text-align: left">ì‘í’ˆ ìƒì„¸ í˜ì´ì§€</td>
      <td style="text-align: center"><a href="https://github.com/zeonga1102"><code class="language-plaintext highlighter-rouge">ğŸ”—zeonga1102</code></a></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>ê¹€ë™ê·¼</strong></td>
      <td style="text-align: left">ë©”ì¸ í˜ì´ì§€, ì¥ë¥´ë³„ í˜ì´ì§€</td>
      <td style="text-align: center"><a href="https://github.com/yinmsk"><code class="language-plaintext highlighter-rouge">ğŸ”—yinmsk</code></a></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>ëª¨ë¸ì œì‘ - íŒ€ ì „ì²´ ì°¸ì—¬</li>
</ul>

<p><br /></p>

<h2 id="ìŠ¤í‚¬-ë°-ì‚¬ìš©íˆ´">ìŠ¤í‚¬ ë° ì‚¬ìš©íˆ´</h2>
<p><code class="language-plaintext highlighter-rouge">Python</code>, <code class="language-plaintext highlighter-rouge">Django</code>, <code class="language-plaintext highlighter-rouge">BeautifulSoup</code>, <code class="language-plaintext highlighter-rouge">Selenium</code>,<code class="language-plaintext highlighter-rouge">Colab</code>, <code class="language-plaintext highlighter-rouge">MeCab</code>, <code class="language-plaintext highlighter-rouge">Doc2Vec</code></p>

<p><br /></p>

<h2 id="ë‚˜ì˜-ì—­í• ">ë‚˜ì˜ ì—­í• </h2>

<h3 id="ëª¨ë¸-ì œì‘">ëª¨ë¸ ì œì‘</h3>
<ol>
  <li><code class="language-plaintext highlighter-rouge">Goal</code> Colabì—ì„œ ë„¤ì´ë²„ ì‹œë¦¬ì¦ˆ ì¥ë¥´ ì†Œì„¤ ì¤‘ ë¬´í˜‘, ë¡œë§¨ìŠ¤ ì¥ë¥´ì˜ ë°ì´í„°ë¥¼ í¬ë¡¤ë§í•˜ê¸° <a href="https://colab.research.google.com/drive/1v8aza877rlbwOP1sDZ3nFk8TneiLkmF8?usp=sharing"><code class="language-plaintext highlighter-rouge">ğŸ”—colab</code></a></li>
  <li><code class="language-plaintext highlighter-rouge">Problem</code> BeautifulSoupì„ ì´ìš©í•˜ì—¬ í¬ë¡¤ë§ì„ ì‹œë„í–ˆìœ¼ë‚˜, ì¤„ê±°ë¦¬ê°€ ê¸´ ì‘í’ˆì˜ ê²½ìš° ë”ë³´ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ë§Œ ì¤„ê±°ë¦¬ ì „ì²´ë¥¼ í¬ë¡¤ë§í•  ìˆ˜ ìˆì–´ ì œëŒ€ë¡œ ì¤„ê±°ë¦¬ë¥¼ ëª¨ì„ ìˆ˜ ì—†ì—ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">Action</code> BeautifulSoupìœ¼ë¡œëŠ” ì‘í’ˆë³„ urlë§Œ ìˆ˜ì§‘í•˜ê³ , ì‘í’ˆ ìƒì„¸ í˜ì´ì§€ì—ì„œëŠ” Seleniumì„ ì´ìš©í•˜ì—¬ ë™ì ì¸ ì›¹í˜ì´ì§€ì— ëŒ€ì‘í•˜ì—¬ í¬ë¡¤ë§í•˜ì˜€ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">Problem</code> í¬ë¡¤ë§í•œ ë°ì´í„°ì— ìì—°ì–´ ì²˜ë¦¬ ì‹œ ë¶ˆí•„ìš”í•œ ë‚´ìš©ì´ í¬í•¨ë˜ê±°ë‚˜, ì €ì¥ëœ ë‚´ìš©ì´ í˜•ì‹ì— ë§ì§€ ì•Šê±°ë‚˜, ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.
    <ul>
      <li>ì‘í’ˆ ì œëª©ì— ì‘í’ˆ ë¶„ë¥˜ë‚˜ ì‹œë¦¬ì¦ˆ ìì²´ í”„ë¡œëª¨ì…˜ê³¼ ê´€ë ¨ëœ í‚¤ì›Œë“œê°€ ë…¸ì¶œë¨ <code class="language-plaintext highlighter-rouge">ë§¤ì¼10ì‹œë¬´ë£Œ</code>, <code class="language-plaintext highlighter-rouge">[ë…ì ]</code>, <code class="language-plaintext highlighter-rouge">[ë¬´ë£Œì—°ì¬]</code>, <code class="language-plaintext highlighter-rouge">[ë‹¨í–‰ë³¸]</code></li>
      <li>ì»¤ë²„ ì´ë¯¸ì§€ì˜ url ìœ„ì¹˜ê°€ ë‹¤ë¥¸ ê²½ìš° ì˜¤ë¥˜ê°€ ë°œìƒí•¨</li>
      <li>ê·¸ë¦¼ ì‘ê°€ì™€ ê¸€ ì‘ê°€ê°€ ë”°ë¡œ í‘œê¸°ëœ ì‘í’ˆì˜ ê²½ìš° ì¶œíŒì‚¬ ëŒ€ì‹  ê·¸ë¦¼ ì‘ê°€ì˜ ì´ë¦„ì˜ ì €ì¥ë¨</li>
      <li>ì¤„ê±°ë¦¬ê°€ ì§§ì•„ ë”ë³´ê¸° ë²„íŠ¼ì´ ë”°ë¡œ ì—†ëŠ” ê²½ìš°ì—ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•¨</li>
      <li>ì„±ì¸ë§Œ ë³¼ ìˆ˜ ìˆë„ë¡ ì—´ëŒì œí•œì´ ê±¸ë¦° ê²½ìš°ì˜¤ë¥˜ê°€ ë°œìƒí•¨</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Action</code> tryë¬¸ê³¼ ifë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í–ˆë‹¤.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urlList</span><span class="p">:</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
 <span class="k">try</span><span class="p">:</span>
     <span class="n">cover</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#container &gt; div.aside.NE\=a\:nvi &gt; a &gt; img'</span><span class="p">).</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">'src'</span><span class="p">)</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">try</span><span class="p">:</span>
     <span class="n">cover</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#container &gt; div.aside.NE\=a\:nvi &gt; span &gt; img'</span><span class="p">).</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">'src'</span><span class="p">)</span>
     <span class="k">except</span><span class="p">:</span>
     <span class="k">continue</span>
    
 <span class="k">try</span><span class="p">:</span>
     <span class="n">title</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; div.end_head &gt; h2'</span><span class="p">).</span><span class="n">text</span>
     <span class="k">if</span> <span class="s">'['</span> <span class="ow">in</span> <span class="n">title</span><span class="p">:</span>
     <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'['</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
     <span class="k">if</span> <span class="s">'ì‹œë¬´ë£Œ'</span> <span class="ow">in</span> <span class="n">title</span><span class="p">:</span>
     <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'ì‹œë¬´ë£Œ'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
     <span class="n">genre</span> <span class="o">=</span> <span class="s">'ë¬´í˜‘'</span>
     <span class="n">author</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; ul.end_info.NE\=a\:nvi &gt; li &gt; ul &gt; li:nth-child(3) &gt; a'</span><span class="p">).</span><span class="n">text</span>
        
     <span class="k">if</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; ul.end_info.NE\=a\:nvi &gt; li &gt; ul &gt; li:nth-child(4) &gt; span'</span><span class="p">).</span><span class="n">text</span> <span class="o">==</span> <span class="s">'ê·¸ë¦¼'</span><span class="p">:</span>
     <span class="n">publisher</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; ul.end_info.NE\=a\:nvi &gt; li &gt; ul &gt; li:nth-child(5) &gt; a'</span><span class="p">).</span><span class="n">text</span>
     <span class="k">else</span><span class="p">:</span>
     <span class="n">publisher</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; ul.end_info.NE\=a\:nvi &gt; li &gt; ul &gt; li:nth-child(4) &gt; a'</span><span class="p">).</span><span class="n">text</span>

     <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">'//*[@id="content"]/div[2]/div[1]/span/a'</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>
     <span class="n">story</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; div.end_dsc &gt; div:nth-child(2)'</span><span class="p">).</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="n">story</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#content &gt; div.end_dsc &gt; div'</span><span class="p">).</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

 <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">.</span><span class="n">from_dict</span><span class="p">([{</span><span class="s">'cover'</span><span class="p">:</span> <span class="n">cover</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span> <span class="s">'genre'</span><span class="p">:</span> <span class="n">genre</span><span class="p">,</span> <span class="s">'author'</span><span class="p">:</span> <span class="n">author</span><span class="p">,</span> <span class="s">'publisher'</span><span class="p">:</span> <span class="n">publisher</span><span class="p">,</span> <span class="s">'story'</span><span class="p">:</span> <span class="n">story</span><span class="p">}])</span>
 <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
     <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data</span><span class="p">,</span> <span class="n">df</span><span class="p">])</span>
 <span class="k">else</span><span class="p">:</span>
     <span class="n">data</span> <span class="o">=</span> <span class="n">df</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="íšŒì›ê°€ì…ë¡œê·¸ì¸-í˜ì´ì§€-ë°±ì—”ë“œ">íšŒì›ê°€ì…/ë¡œê·¸ì¸ í˜ì´ì§€ ë°±ì—”ë“œ</h3>
<ol>
  <li><code class="language-plaintext highlighter-rouge">Goal</code> Django ë‚´ì¥ ëª¨ë¸ë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
    <ol>
      <li>íšŒì›ê°€ì… ê¸°ëŠ¥</li>
      <li>ë¡œê·¸ì¸ ê¸°ëŠ¥
        <ol>
          <li><code class="language-plaintext highlighter-rouge">Problem</code> íšŒì›ê°€ì…ì€ ë˜ì–´ì„œ dbì— ìœ ì € ì •ë³´ê°€ ì˜ ì¶”ê°€ ë˜ì—ˆëŠ”ë°, ê·¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì„ ì‹œë„í•˜ë©´ me ê°’ì´ Noneìœ¼ë¡œ ì°íˆë©° ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆë‹¤.
            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">me</span> <span class="o">=</span> <span class="n">auth</span><span class="p">.</span><span class="n">authenticate</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
 <span class="k">if</span> <span class="n">me</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
     <span class="n">auth</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">me</span><span class="p">)</span>
     <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">"ë¡œê·¸ì¸ ì„±ê³µ"</span><span class="p">)</span>
</code></pre></div>            </div>
          </li>
          <li><code class="language-plaintext highlighter-rouge">Action</code> djangoì˜ auth ê¸°ëŠ¥ì€ <code class="language-plaintext highlighter-rouge">usernameê³¼ passwordë¡œ ì¸ì¦</code>í•˜ëŠ” ê²ƒì´ <code class="language-plaintext highlighter-rouge">ê¸°ë³¸ ì„¤ì •ê°’</code>ì´ë¼ì„œ username ëŒ€ì‹  emailì„ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸ì„ ì‹œë„í•˜ë ¤ë‹ˆ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì´ì—ˆë‹¤. email ëŒ€ì‹  <code class="language-plaintext highlighter-rouge">username(ID)ê³¼ password</code>ë¡œ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•˜ë„ë¡ ë³€ê²½í•˜ì—¬ í•´ê²°í–ˆë‹¤.
            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># users/views.py
</span> <span class="k">def</span> <span class="nf">sign_in_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
     <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
         <span class="n">username</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'id'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
         <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'password'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
         <span class="n">me</span> <span class="o">=</span> <span class="n">auth</span><span class="p">.</span><span class="n">authenticate</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
         <span class="k">if</span> <span class="n">me</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
             <span class="n">auth</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">me</span><span class="p">)</span>
             <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
         <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="s">'user/signin.html'</span><span class="p">,{</span><span class="s">'error'</span><span class="p">:</span><span class="s">'ID í˜¹ì€ íŒ¨ìŠ¤ì›Œë“œë¥¼ í™•ì¸ í•´ ì£¼ì„¸ìš”'</span><span class="p">})</span>
</code></pre></div>            </div>
          </li>
        </ol>
      </li>
      <li>ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥</li>
    </ol>
  </li>
</ol>

<h3 id="íšŒì›ê°€ì…ë¡œê·¸ì¸-í˜ì´ì§€-í”„ë¡ íŠ¸ì—”ë“œ">íšŒì›ê°€ì…/ë¡œê·¸ì¸ í˜ì´ì§€ í”„ë¡ íŠ¸ì—”ë“œ</h3>
<ol>
  <li><code class="language-plaintext highlighter-rouge">ë¶€íŠ¸ìŠ¤íŠ¸ë©</code>ì„ ìµœëŒ€í•œ í™œìš©í•˜ì—¬ <code class="language-plaintext highlighter-rouge">ë°˜ì‘í˜•</code>ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.</li>
  <li>
    <p>ì—ëŸ¬ë©”ì‹œì§€ë¥¼ alert ëŒ€ì‹  í…œí”Œë¦¿ ë¬¸ë²•ìœ¼ë¡œ ì¶œë ¥í–ˆë‹¤.</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> {% if error %}
     <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span> <span class="na">role=</span><span class="s">"alert"</span><span class="nt">&gt;</span>
         {{ error }}
     <span class="nt">&lt;/div&gt;</span>
 {% endif %}
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="ë§ˆì´-í˜ì´ì§€ì˜-ë°±ì—”ë“œ">ë§ˆì´ í˜ì´ì§€ì˜ ë°±ì—”ë“œ</h3>
<ol>
  <li><code class="language-plaintext highlighter-rouge">Goal</code> ManyToManyFieldì— ë“±ë¡ëœ ìˆœì„œë¡œ ì„ í˜¸ì‘í’ˆ ì •ë ¬í•˜ê¸°</li>
  <li><code class="language-plaintext highlighter-rouge">Problem</code> ë¶ˆëŸ¬ì˜¨ ì„ í˜¸ì‘ ë°ì´í„°ë¥¼ idë¡œ ì •ë ¬í–ˆë”ë‹ˆ ì¥ë¥´ë³„ë¡œë§Œ ì •ë ¬ë˜ì—ˆë‹¤.
    <ul>
      <li>ì •ë ¬ì— ì‚¬ìš©í•œ idëŠ” BookModelì˜ idê°’, ì¦‰ book_idì´ë¯€ë¡œ ì„ í˜¸ì‘í’ˆ ë“±ë¡ ìˆœì„œì™€ëŠ” ê´€ê³„ê°€ ì—†ë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Action</code> ì´ìƒë¡ íŠœí„°ë‹˜ì˜ ì¡°ì–¸ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Raw query</code>ë¡œ users_favoritesì— ì ‘ê·¼í•˜ì—¬ idê°’ì„ ë°›ì•„ì™€ ì •ë ¬í–ˆë‹¤.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># ë¡œê·¸ì¸ ì¤‘ì¸ ìœ ì €ì˜ ì •ë³´
</span> <span class="n">user</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">user</span>
 <span class="n">user_id</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="nb">id</span>

 <span class="c1"># ManyToManyFieldì˜ ê°’ ê°€ì ¸ì˜¤ê¸°
</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">query</span> <span class="o">=</span> <span class="s">"SELECT * FROM users_favorite WHERE usermodel_id=%s"</span> <span class="o">%</span> <span class="n">user_id</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
 <span class="n">stocks</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchall</span><span class="p">()</span>
 <span class="c1"># stocksì— (id, user_id, book_id) í˜•íƒœì˜ íŠœí”Œë“¤ì´ ë¦¬ìŠ¤íŠ¸ë¡œ ë‹´ê²¨ ë‚˜ì˜´
</span>
 <span class="c1"># stocksë¥¼ idë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°€ì¥ ìµœê·¼ì— ë“±ë¡ëœ ê¸€ë¶€í„° ì •ë ¬
</span> <span class="n">stocks</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

 <span class="c1"># ë°˜ë³µë¬¸ì„ ëŒë ¤ ìµœì‹  ë“±ë¡ 5ê°œ ì‘í’ˆ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
</span> <span class="c1"># book_idë¡œ í•´ë‹¹ BookModel ì°¾ê¸°
</span> <span class="n">favorite</span> <span class="o">=</span> <span class="p">[]</span>
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
     <span class="n">favorite</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">favorite</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">stocks</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>

 <span class="c1"># {'favorite':favorite} ì„ ì›í•˜ëŠ” html ë Œë”í•  ë•Œ ê°™ì´ ë³´ë‚´ê¸°
</span></code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Problem</code> ì„ í˜¸ì‘ìœ¼ë¡œ ë“±ë¡ëœ ì‘í’ˆì´ 5ê°œ ë¯¸ë§Œì¼ ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">Action</code> ifë¬¸ì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ì˜ lengthë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ë¥´ê²Œ ëŒ€ì‘í•˜ë„ë¡ í–ˆë‹¤.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">stocks_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stocks</span><span class="p">)</span>
 <span class="k">if</span> <span class="n">stocks_length</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
     <span class="n">stocks_length</span> <span class="o">=</span> <span class="mi">5</span>

 <span class="n">stocks</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

 <span class="n">favorite</span> <span class="o">=</span> <span class="p">[]</span>
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">stocks_length</span><span class="p">):</span>
     <span class="n">favorite</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">favorite</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">stocks</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="ë§ˆì´-í˜ì´ì§€ì˜-í”„ë¡ íŠ¸ì—”ë“œ">ë§ˆì´ í˜ì´ì§€ì˜ í”„ë¡ íŠ¸ì—”ë“œ</h3>
<ol>
  <li>ëŒ€ë¶€ë¶„ì˜ í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìƒë‹¨ë°” ë¶€ë¶„ì˜ ê´€ë¦¬ë¥¼ ìš©ì´í•˜ê²Œ í•˜ê³ ì base.htmlë¡œ ìƒë‹¨ë°” ë¶€ë¶„ì„ <code class="language-plaintext highlighter-rouge">ë¶„ë¦¬</code>í•˜ì—¬ ê° í˜ì´ì§€ì— <code class="language-plaintext highlighter-rouge">extends</code> í–ˆë‹¤.</li>
  <li>ì œëª©ì´ ê¸´ ì‘í’ˆì˜ ê²½ìš° ì œëª©ì´ ì˜ë¦´ ê¸°ì¤€ì´ ë˜ëŠ” ê¸¸ì´ë¥¼ ì •í•˜ì—¬ ë„˜ì¹  ê²½ìš° <code class="language-plaintext highlighter-rouge">â€¦</code>ìœ¼ë¡œ í‘œì‹œí–ˆë‹¤.
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nc">.book-title</span> <span class="p">{</span>
     <span class="nl">width</span><span class="p">:</span> <span class="m">172px</span><span class="p">;</span>
     <span class="nl">text-overflow</span><span class="p">:</span> <span class="n">ellipsis</span><span class="p">;</span>
     <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
     <span class="nl">white-space</span><span class="p">:</span> <span class="nb">nowrap</span><span class="p">;</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<p><br /></p>

<h2 id="íšŒê³ ">íšŒê³ </h2>
<blockquote>
  <p>ë°±ì—”ë“œ ê°œë°œìë¡œì„œ dbë¥¼ ì˜ ë‹¤ë£¨ëŠ” ì¼ì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ëª¸ìœ¼ë¡œ ëŠê¼ˆë‹¤. ë‚´ê°€ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ dbì—ì„œ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì¢‹ì€ì§€ì— ëŒ€í•´ì„œ ëŠì„ì—†ì´ ê³ ë¯¼ì„ í•´ì•¼ê² ë‹¤.</p>
</blockquote>

<blockquote>
  <p>ì˜¤ë¥˜ ìƒí™©ì´ ë°œìƒí•  ë•Œ ì–´ë–»ê²Œ tryë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ì§€ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤. ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ë•ŒëŠ” try-exceptë§Œ ì“°ëŠ” ê²ƒë³´ë‹¤ exceptì— ì˜ˆì™¸ ì´ë¦„ì„ ì§€ì •í•˜ì—¬ ì–´ë–¤ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í–ˆëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìœ¼ë©°, tryë¬¸ì˜ ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ì¡°ì–¸ì„ í•­ìƒ ì—¼ë‘ì— ë‘ê³  ì½”ë”©ì„ í•´ì•¼ê² ë‹¤.</p>
</blockquote>


</div>

<div class="pagination">
  
    <a href="/2022-06-27/200ok" class="left next">Prev</a>
  
  
    <a href="/2022-05-18/jellymodi" class="right next">Next</a>
  

  <a href="#" class="top">Top</a>
</div>

    </main>

    <footer>
      <span>
        &copy; <time datetime="2022-08-25 17:40:31 +0900">2022</time> ë…¸ì„ Noh Eul. <a href="https://github.com/kssim/about-portfolio/">A.P</a> theme by kssim.
      </span>
    </footer>
  </body>
</html>
